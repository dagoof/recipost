{% extends "base.html" %}

{% macro render_field(field) %}
<dt>{{ field.label }}</dt>
<dd>{{ field(**kwargs)|safe }}
{% if field.errors %}
<ul class='errors'>
    {% for error in field.errors %}<li>{{ error }}</li>{% endfor %}
</ul>
{% endif %}
</dd>
{% endmacro %}

{% block content %}
<form method='post' action='{{ request.path }}' enctype='multipart/form-data'>
    <dl>
        {% for field in form %}
        {{ render_field(field) }}
        {% endfor %}
        <dt>Images</dt>
        <dd><input type='file' name='file'/></dd>
    </dl>
    <p><input type='submit' value='Submit'></p>
</form>
{% endblock %}
